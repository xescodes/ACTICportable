function verifyAnswers(rows) {
    let correctes = 0;
    rows.forEach((row, index) => {
        const correcta = extractLetter(row[5].trim().toUpperCase());
        const seleccionada = document.querySelector(`input[name="q${index}"]:checked`)?.value.toUpperCase() || '';
        const resultDiv = document.getElementById(`result-${index}`);
        const explanationDiv = document.getElementById(`explanation-${index}`);
        if (seleccionada === correcta) {
            resultDiv.innerHTML = '<span class="correct">✓ Correcte</span>';
            correctes++;
        } else {
            resultDiv.innerHTML = `
                <span class="incorrect">✗ Incorrecte</span>
                <br><small>Resposta correcta: ${row[5]}</small>
            `;
            explanationDiv.innerHTML = row[6] || 'Sense explicació';
        }
    });
    const total = rows.length;
    const percentage = Math.round((correctes / total) * 100);
    let percentageColorClass = 'green';
    if (percentage < 50) {
        percentageColorClass = 'red';
    } else if (percentage >= 51 && percentage <= 59) {
        percentageColorClass = 'brown';
    }
    document.getElementById('results').innerHTML = `
        <h2>Resultat: ${correctes}/${total}</h2>
        <p>Percentatge d'èxit: <span class="bold ${percentageColorClass}">${percentage}%</span></p>
    `;
    saveResults(correctes, total);
}
