<!DOCTYPE html>
<html lang="ca">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qüestionari Interactiu</title>
    <link rel="icon" href="data:," type="image/x-icon">
    <style>
        /* Estils que has proporcionat anteriorment */
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            margin: 20px;
        }
        /* ... (resta dels estils) ... */
    </style>
    <!-- Inclou Chart.js per al gràfic de progrés -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <h1>Qüestionari Interactiu</h1>
    <div class="btn-container">
        <button id="login-btn">Iniciar Sessió</button>
        <button id="show-progress-btn">Mostrar Progrés</button>
        <button id="refresh-btn">Refrescar Pàgina</button>
    </div>
    <div id="loading">Carregant...</div>
    <div id="quiz-container" style="display: none;">
        <!-- Pregunta 1 -->
        <div class="question">
            <h3>Pregunta 1</h3>
            <p>Quina és la capital de França?</p>
            <div class="options">
                <label><input type="radio" name="question1" value="correct"> París</label>
                <label><input type="radio" name="question1" value="incorrect"> Madrid</label>
                <label><input type="radio" name="question1" value="incorrect"> Berlín</label>
            </div>
            <div class="explanation" style="display: none;">
                París és la capital de França.
            </div>
        </div>
        <!-- Pregunta 2 -->
        <div class="question">
            <h3>Pregunta 2</h3>
            <p>Quin és el planeta més gran del sistema solar?</p>
            <div class="options">
                <label><input type="radio" name="question2" value="correct"> Júpiter</label>
                <label><input type="radio" name="question2" value="incorrect"> Saturn</label>
                <label><input type="radio" name="question2" value="incorrect"> Mart</label>
            </div>
            <div class="explanation" style="display: none;">
                Júpiter és el planeta més gran del sistema solar.
            </div>
        </div>
    </div>
    <button id="submit-btn" style="display: none;">Verificar Respostes</button>
    <div id="results"></div>
    <div id="progress-chart" class="progress-chart" style="display: none;">
        <canvas id="progressChart"></canvas>
    </div>
    <!-- Modal per iniciar sessió -->
    <div id="login-modal" class="login-modal">
        <div class="login-form">
            <h2>Iniciar Sessió</h2>
            <form id="login-form">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required>
                <label for="password">Contrasenya:</label>
                <input type="password" id="password" name="password" required>
                <button type="submit">Iniciar Sessió</button>
            </form>
        </div>
    </div>

    <script>
        // JavaScript per gestionar la funcionalitat
        document.addEventListener('DOMContentLoaded', function() {
            // Oculta el missatge de carregament
            document.getElementById('loading').style.display = 'none';
            
            // Mostra el contenedor del qüestionari
            document.getElementById('quiz-container').style.display = 'block';
            
            // Afegir funcionalitat als botons
            document.getElementById('login-btn').addEventListener('click', function() {
                document.getElementById('login-modal').style.display = 'flex';
            });
            
            document.getElementById('show-progress-btn').addEventListener('click', function() {
                document.getElementById('progress-chart').style.display = 'block';
                // Aquí aniria el codi per generar el gràfic
            });
            
            document.getElementById('refresh-btn').addEventListener('click', function() {
                location.reload();
            });
            
            document.getElementById('submit-btn').addEventListener('click', function() {
                checkAnswers();
            });
            
            // Funció per comprovar les respostes
            function checkAnswers() {
                let results = document.getElementById('results');
                results.innerHTML = '';
                
                // Comprova cada pregunta
                const questions = document.querySelectorAll('.question');
                let correctCount = 0;
                
                questions.forEach(question => {
                    const radioButtons = question.querySelectorAll('input[type="radio"]');
                    let isCorrect = false;
                    
                    radioButtons.forEach(button => {
                        if (button.checked && button.value === 'correct') {
                            isCorrect = true;
                        }
                    });
                    
                    if (isCorrect) {
                        correctCount++;
                        question.classList.add('correct');
                    } else {
                        question.classList.add('incorrect');
                    }
                    
                    // Mostra l'explicació
                    const explanation = question.querySelector('.explanation');
                    explanation.style.display = 'block';
                });
                
                // Mostra els resultats
                results.innerHTML = `Has respost ${correctCount} de ${questions.length} correctament.`;
            }
            
            // Tanca el modal quan es fa clic fora
            window.onclick = function(event) {
                if (event.target === document.getElementById('login-modal')) {
                    document.getElementById('login-modal').style.display = 'none';
                }
            }
        });
    </script>
</body>
</html>
